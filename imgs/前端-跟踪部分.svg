<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="processonSvg1000" viewBox="69.0 3.696064139941697 888.0 884.3039358600583" width="888.0" height="884.3039358600583"><defs id="ProcessOnDefs1001"><marker id="ProcessOnMarker1011" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1012" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1020" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1021" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1045" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1046" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1054" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1055" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1073" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1074" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1084" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1085" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1093" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1094" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1111" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1112" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1115" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1116" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1132" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1133" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1141" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1142" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1149" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1150" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker></defs><g id="ProcessOnG1002"><path id="ProcessOnPath1003" d="M69.0 3.696064139941697H957.0V888.0H69.0V3.6960641399416545Z" fill="none"/><g id="ProcessOnG1004"><g id="ProcessOnG1005" transform="matrix(1.0,0.0,0.0,1.0,213.68641892408777,24.3921282798834)" opacity="1.0"><path id="ProcessOnPath1006" d="M0.0 0.0L180.06122448979602 0.0L180.06122448979602 44.14285714285713L0.0 44.14285714285713Z" stroke="#000000" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#00ff00"/><g id="ProcessOnG1007" transform="matrix(1.0,0.0,0.0,1.0,10.0,13.321428571428566)"><text id="ProcessOnText1008" fill="#000000" font-size="14" x="79.03061224489801" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="14">trackFeatures()</text></g></g><g id="ProcessOnG1009"><path id="ProcessOnPath1010" d="M303.7170311689856 68.53498542274055L303.7170311689856 85.7186588921283L303.82007496876344 85.7186588921283L303.82007496876344 87.66626438401626" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1011)"/></g><g id="ProcessOnG1013" transform="matrix(1.0,0.0,0.0,1.0,96.87921699291968,102.90233236151605)" opacity="1.0"><path id="ProcessOnPath1014" d="M0.0 0.0L413.8817159516868 0.0L413.8817159516868 64.85714285714288L0.0 64.85714285714288Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1015" transform="matrix(1.0,0.0,0.0,1.0,10.0,14.928571428571438)"><text id="ProcessOnText1016" fill="#000000" font-size="14" x="195.9408579758434" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="14">1.根据imu的信息对前后时刻的图像的旋转计算得到一个初值</text><text id="ProcessOnText1017" fill="#000000" font-size="14" x="195.9408579758434" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="14">integrateImuData(cam0_R_p_c, cam1_R_p_c);</text></g></g><g id="ProcessOnG1018"><path id="ProcessOnPath1019" d="M510.7609329446066 135.33090379008743L548.2376093294464 135.33090379008743L548.2376093294464 189.41034985422738L570.4782177367864 189.41034985422738" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1020)"/></g><g id="ProcessOnG1022" transform="matrix(1.0,0.0,0.0,1.0,585.7142857142862,100.0)" opacity="1.0"><path id="ProcessOnPath1023" d="M0.0 0.0L337.28571428571377 0.0L337.28571428571377 178.8206997084548L0.0 178.8206997084548Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ff8000"/><g id="ProcessOnG1024" transform="matrix(1.0,0.0,0.0,1.0,10.0,-6.839650145772595)"><text id="ProcessOnText1025" fill="#000000" font-size="14" x="0.0" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14"></text><text id="ProcessOnText1026" fill="#000000" font-size="14" x="0.0" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">integrateImuData(cam0_R_p_c, cam1_R_p_c)</text><text id="ProcessOnText1027" fill="#000000" font-size="14" x="0.0" y="49.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">1.找到prev和curr帧之间imu的数据,其实按照200h</text><text id="ProcessOnText1028" fill="#000000" font-size="14" x="0.0" y="66.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">z的IMU和20hz的图像来说,两帧图像之间大约有10</text><text id="ProcessOnText1029" fill="#000000" font-size="14" x="0.0" y="84.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">帧.</text><text id="ProcessOnText1030" fill="#000000" font-size="14" x="0.0" y="101.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">2.根据IMU的w数据计算imu系下的平均角速度w~</text><text id="ProcessOnText1031" fill="#000000" font-size="14" x="0.0" y="119.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">3.平均旋转向量为w~*dt</text><text id="ProcessOnText1032" fill="#000000" font-size="14" x="0.0" y="136.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">4.罗德里格斯变换将旋转向量转换为旋转矩阵</text><text id="ProcessOnText1033" fill="#000000" font-size="14" x="0.0" y="154.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">cam0_R_p_c, cam1_R_p_c -&gt; pre to curr.</text><text id="ProcessOnText1034" fill="#000000" font-size="14" x="0.0" y="171.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">5.清除imu_msg_buffer中已经使用过的imu_data</text><text id="ProcessOnText1035" fill="#000000" font-size="14" x="0.0" y="189.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14"></text></g></g><g id="ProcessOnG1036" transform="matrix(1.0,0.0,0.0,1.0,89.0,194.0)" opacity="1.0"><path id="ProcessOnPath1037" d="M0.0 0.0L429.6401499375261 0.0L429.6401499375261 104.82069970845481L0.0 104.82069970845481Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1038" transform="matrix(1.0,0.0,0.0,1.0,10.0,17.410349854227405)"><text id="ProcessOnText1039" fill="#000000" font-size="14" x="0.0" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">2.根据imu得到的前后两帧图像之间的旋转预测当前帧特征点的位</text><text id="ProcessOnText1040" fill="#000000" font-size="14" x="0.0" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">置</text><text id="ProcessOnText1041" fill="#000000" font-size="14" x="0.0" y="49.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">predictFeatureTracking(prev_cam0_points,</text><text id="ProcessOnText1042" fill="#000000" font-size="14" x="0.0" y="66.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">      cam0_R_p_c, cam0_intrinsics, curr_cam0_points);</text></g></g><g id="ProcessOnG1043"><path id="ProcessOnPath1044" d="M303.82007496876344 167.7594752186589L303.82007496876344 180.87973760932945L303.8200749687634 180.87973760932945L303.8200749687634 181.87973760932945" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1045)"/></g><g id="ProcessOnG1047" transform="matrix(1.0,0.0,0.0,1.0,107.13682224243308,338.0)" opacity="1.0"><path id="ProcessOnPath1048" d="M0.0 0.0L393.1604178531054 0.0L393.1604178531054 72.79612661391104L0.0 72.79612661391104Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1049" transform="matrix(1.0,0.0,0.0,1.0,10.0,18.89806330695552)"><text id="ProcessOnText1050" fill="#000000" font-size="14" x="0.0" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">3.LK光流跟踪 calcOpticalFlowPyrLK(*)</text><text id="ProcessOnText1051" fill="#000000" font-size="14" x="0.0" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">track_inliers为标记,将超出图像边界的点标记为0</text></g></g><g id="ProcessOnG1052"><path id="ProcessOnPath1053" d="M303.8200749687634 298.8206997084549L303.8200749687634 318.41034985422743L303.7170311689859 318.41034985422743L303.7170311689859 322.7639320225002" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1054)"/></g><g id="ProcessOnG1056" transform="matrix(1.0,0.0,0.0,1.0,581.0,498.1530612244898)" opacity="1.0"><path id="ProcessOnPath1057" d="M0.0 0.0L351.87058963527124 0.0L351.87058963527124 158.84693877551018L0.0 158.84693877551018Z" stroke="#000000" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ff8000"/><g id="ProcessOnG1058" transform="matrix(1.0,0.0,0.0,1.0,10.0,14.423469387755091)"><text id="ProcessOnText1059" fill="#000000" font-size="13" x="0.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">template &lt;typename T&gt;</text><text id="ProcessOnText1060" fill="#000000" font-size="13" x="0.0" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">void removeUnmarkedElements(</text><text id="ProcessOnText1061" fill="#000000" font-size="13" x="0.0" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">      const std::vector&lt;T&gt;&amp; raw_vec,</text><text id="ProcessOnText1062" fill="#000000" font-size="13" x="0.0" y="62.075" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">      const std::vector&lt;unsigned char&gt;&amp; markers,</text><text id="ProcessOnText1063" fill="#000000" font-size="13" x="0.0" y="78.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">      std::vector&lt;T&gt;&amp; refined_vec)</text><text id="ProcessOnText1064" fill="#000000" font-size="13" x="0.0" y="94.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">分别需要根据tracking的状态移除以下vector状态:</text><text id="ProcessOnText1065" fill="#000000" font-size="13" x="0.0" y="110.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">A.prev_ids;    B.prev_lifetime    C.prev_cam0_points</text><text id="ProcessOnText1066" fill="#000000" font-size="13" x="0.0" y="127.075" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">D.prev_cam1_points    E.curr_cam0_points</text></g></g><g id="ProcessOnG1067" transform="matrix(1.0,0.0,0.0,1.0,109.7351703794763,449.5816326530612)" opacity="1.0"><path id="ProcessOnPath1068" d="M0.0 0.0L387.96372157901897 0.0L387.96372157901897 48.57142857142861L0.0 48.57142857142861Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1069" transform="matrix(1.0,0.0,0.0,1.0,10.0,15.535714285714306)"><text id="ProcessOnText1070" fill="#000000" font-size="14" x="0.0" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">4.移除所有track_inliers值为0的关键点</text></g></g><g id="ProcessOnG1071"><path id="ProcessOnPath1072" d="M303.71703116898584 410.79612661391104L303.71703116898584 430.1888796334861L303.71703116898584 430.1888796334861L303.71703116898584 434.34556467556143" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1073)"/></g><g id="ProcessOnG1075" transform="matrix(1.0,0.0,0.0,1.0,103.86667119992526,536.0)" opacity="1.0"><path id="ProcessOnPath1076" d="M0.0 0.0L399.70071993812104 0.0L399.70071993812104 94.13265306122435L0.0 94.13265306122435Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1077" transform="matrix(1.0,0.0,0.0,1.0,10.0,12.066326530612173)"><text id="ProcessOnText1078" fill="#000000" font-size="14" x="0.0" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">5.前后两帧双目之间特征点关系的选择</text><text id="ProcessOnText1079" fill="#000000" font-size="14" x="0.0" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">同一时刻的左右图像特征点用stereoMatch()函数,参考初始化</text><text id="ProcessOnText1080" fill="#000000" font-size="14" x="0.0" y="49.35" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">部分对该函数的详细介绍;</text><text id="ProcessOnText1081" fill="#000000" font-size="14" x="0.0" y="66.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">前后帧采用twoPointRansac()方法对outliers剔除</text></g></g><g id="ProcessOnG1082"><path id="ProcessOnPath1083" d="M303.71703116898584 498.1530612244899L303.71703116898584 517.0765306122449L303.71703116898584 517.0765306122449L303.71703116898584 520.7639320225002" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1084)"/></g><g id="ProcessOnG1086" transform="matrix(1.0,0.0,0.0,1.0,612.2857142857142,23.696064139941697)" opacity="1.0"><path id="ProcessOnPath1087" d="M0.0 0.0L289.2991610638428 0.0L289.2991610638428 45.53498542274053L0.0 45.53498542274053Z" stroke="#000000" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#00ff00"/><g id="ProcessOnG1088" transform="matrix(1.0,0.0,0.0,1.0,10.0,5.2674927113702665)"><text id="ProcessOnText1089" fill="#000000" font-size="14" x="133.6495805319214" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="14">imuCallback(</text><text id="ProcessOnText1090" fill="#000000" font-size="14" x="133.6495805319214" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="14">const sensor_msgs::ImuConstPtr&amp; msg)</text></g></g><g id="ProcessOnG1091"><path id="ProcessOnPath1092" d="M756.9352948176356 69.23104956268222L756.9352948176356 84.61552478134111L754.3571428571431 84.61552478134111L754.3571428571431 84.76393202250021" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1093)"/></g><g id="ProcessOnG1095" transform="matrix(1.0,0.0,0.0,1.0,581.0,294.4154518950439)" opacity="1.0"><path id="ProcessOnPath1096" d="M0.0 0.0L351.87058963527136 0.0L351.87058963527136 191.58454810495613L0.0 191.58454810495613Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ff8000"/><g id="ProcessOnG1097" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.417274052478064)"><text id="ProcessOnText1098" fill="#000000" font-size="13" x="0.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">predictFeatureTracking(prev_cam0_points,</text><text id="ProcessOnText1099" fill="#000000" font-size="13" x="0.0" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">      cam0_R_p_c, cam0_intrinsics, curr_cam0_points);</text><text id="ProcessOnText1100" fill="#000000" font-size="13" x="0.0" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">原理:根据单应性原理：已知一个平面的关键点可以得到另</text><text id="ProcessOnText1101" fill="#000000" font-size="13" x="0.0" y="62.075" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">一个平面的关键点</text><text id="ProcessOnText1102" fill="#000000" font-size="13" x="0.0" y="78.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">// 单应性矩阵的计算，公式推到：</text><text id="ProcessOnText1103" fill="#000000" font-size="13" x="0.0" y="94.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"> // x1 = K * X1_c; x2 = K * X2_c</text><text id="ProcessOnText1104" fill="#000000" font-size="13" x="0.0" y="110.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"> // x2_c = H * x1_c; X1_C = R_2_1 * X2_c</text><text id="ProcessOnText1105" fill="#000000" font-size="13" x="0.0" y="127.075" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">// x1 = K * R_1_2 * K^inv * x2 --&gt; H = K * R_1_2 * K</text><text id="ProcessOnText1106" fill="#000000" font-size="13" x="0.0" y="143.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">^inv</text><text id="ProcessOnText1107" fill="#000000" font-size="13" x="0.0" y="159.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">x2 = H*x1</text><text id="ProcessOnText1108" fill="#000000" font-size="13" x="0.0" y="175.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">note:这个推导忽略了平移,因为只是一个预测</text></g></g><g id="ProcessOnG1109"><path id="ProcessOnPath1110" d="M518.6401499375261 246.4103498542274L549.820074968763 246.4103498542274L549.820074968763 390.20772594752196L565.7639320225002 390.20772594752196" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1111)"/></g><g id="ProcessOnG1113"><path id="ProcessOnPath1114" d="M497.69889195849527 473.86734693877554L539.3494459792477 473.86734693877554L539.3494459792477 577.576530612245L565.7639320225002 577.576530612245" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1115)"/></g><g id="ProcessOnG1117" transform="matrix(1.0,0.0,0.0,1.0,532.0,675.0)" opacity="1.0"><path id="ProcessOnPath1118" d="M0.0 0.0L405.0 0.0L405.0 193.0L0.0 193.0Z" stroke="#000000" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ff8000"/><g id="ProcessOnG1119" transform="matrix(1.0,0.0,0.0,1.0,10.0,15.25)"><text id="ProcessOnText1120" fill="#000000" font-size="13" x="0.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"> prev frames cam0 ----------&gt; cam1</text><text id="ProcessOnText1121" fill="#000000" font-size="13" x="0.0" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">              |                                    |</text><text id="ProcessOnText1122" fill="#000000" font-size="13" x="0.0" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">              |ransac                          |ransac</text><text id="ProcessOnText1123" fill="#000000" font-size="13" x="0.0" y="62.075" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">              |            stereo match    |</text><text id="ProcessOnText1124" fill="#000000" font-size="13" x="0.0" y="78.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"> curr frames cam0 ----------&gt; cam1</text><text id="ProcessOnText1125" fill="#000000" font-size="13" x="0.0" y="94.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"></text><text id="ProcessOnText1126" fill="#000000" font-size="13" x="0.0" y="110.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">1) Stereo matching between current images of cam0 and cam</text><text id="ProcessOnText1127" fill="#000000" font-size="13" x="0.0" y="127.075" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13">1.</text><text id="ProcessOnText1128" fill="#000000" font-size="13" x="0.0" y="143.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"> 2) RANSAC between previous and current images of cam0.</text><text id="ProcessOnText1129" fill="#000000" font-size="13" x="0.0" y="159.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="13"> 3) RANSAC between previous and current images of cam1.</text></g></g><g id="ProcessOnG1130"><path id="ProcessOnPath1131" d="M503.56739113804633 583.0663265306122L517.7836955690232 583.0663265306122L517.7836955690232 771.5L518.7836955690232 771.5" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1132)"/></g><g id="ProcessOnG1134" transform="matrix(1.0,0.0,0.0,1.0,103.86667119992526,698.0)" opacity="1.0"><path id="ProcessOnPath1135" d="M0.0 0.0L399.70071993812104 0.0L399.70071993812104 58.0L0.0 58.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1136" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.5)"><text id="ProcessOnText1137" fill="#000000" font-size="14" x="0.0" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">6.步骤5的三个步骤都会有标记位,在这之后都会剔除不满足要</text><text id="ProcessOnText1138" fill="#000000" font-size="14" x="0.0" y="31.85" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="14">求的特征点.</text></g></g><g id="ProcessOnG1139"><path id="ProcessOnPath1140" d="M303.7170311689858 630.1326530612243L303.7170311689858 664.0663265306122L303.7170311689858 664.0663265306122L303.7170311689858 682.7639320225002" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1141)"/></g><g id="ProcessOnG1143" transform="matrix(1.0,0.0,0.0,1.0,273.2161171791729,830.0)" opacity="1.0"><path id="ProcessOnPath1144" d="M0.0 0.0L61.00182797962577 0.0L61.00182797962577 34.0L0.0 34.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#33ff33"/><g id="ProcessOnG1145" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.25)"><text id="ProcessOnText1146" fill="#000000" font-size="14" x="19.500913989812886" y="14.350000000000001" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="14">结束</text></g></g><g id="ProcessOnG1147"><path id="ProcessOnPath1148" d="M303.7170311689858 756.0L303.7170311689858 793.0L303.7170311689858 793.0L303.7170311689858 814.7639320225002" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1149)"/></g></g></g></svg>